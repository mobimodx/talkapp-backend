{"version":3,"file":"streamingHandler.js","sourceRoot":"","sources":["../../src/websocket/streamingHandler.ts"],"names":[],"mappings":";;;;;AA0BA,8DAiTC;AA1UD,gFAAuD;AAEvD,6DAAqC;AAuBrC,SAAgB,yBAAyB,CAAC,EAAa;IACrD,IAAI,YAAY,GAAQ,IAAI,CAAC;IAC7B,IAAI,cAAc,GAAG,KAAK,CAAC;IAC3B,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IAC1D,IAAI,YAAY,GAA0B,IAAI,CAAC;IAC/C,MAAM,oBAAoB,GAAG,IAAI,CAAC;IAClC,MAAM,WAAW,GAAa,EAAE,CAAC;IACjC,MAAM,eAAe,GAAG,GAAG,CAAC;IAC5B,IAAI,oBAAoB,GAAG,KAAK,CAAC;IAEjC,gBAAM,CAAC,IAAI,CAAC,8CAA8C,SAAS,EAAE,CAAC,CAAC;IAGvE,MAAM,iBAAiB,GAAG,GAAG,EAAE;QAC7B,IAAI,YAAY,EAAE,CAAC;YACjB,YAAY,CAAC,YAAY,CAAC,CAAC;YAC3B,YAAY,GAAG,IAAI,CAAC;QACtB,CAAC;IACH,CAAC,CAAC;IAGF,MAAM,iBAAiB,GAAG,GAAG,EAAE;QAC7B,iBAAiB,EAAE,CAAC;QAGpB,YAAY,GAAG,UAAU,CAAC,GAAG,EAAE;YAC7B,IAAI,cAAc,EAAE,CAAC;gBACnB,gBAAM,CAAC,KAAK,CAAC,iCAAiC,SAAS,EAAE,CAAC,CAAC;gBAC3D,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,SAAS,EAAuB,CAAC,CAAC,CAAC;YACpE,CAAC;QACH,CAAC,EAAE,oBAAoB,CAAC,CAAC;IAC3B,CAAC,CAAC;IAGF,MAAM,YAAY,GAAsB,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC;IAC9D,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;IAEtC,EAAE,CAAC,EAAE,CAAC,SAAS,EAAE,KAAK,EAAE,IAAY,EAAE,QAAiB,EAAE,EAAE;QACzD,IAAI,CAAC;YAEH,IAAI,QAAQ,EAAE,CAAC;gBAEb,IAAI,CAAC,cAAc,IAAI,CAAC,YAAY,EAAE,CAAC;oBAErC,IAAI,WAAW,CAAC,MAAM,GAAG,eAAe,EAAE,CAAC;wBACzC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACvB,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;4BAC7B,gBAAM,CAAC,KAAK,CAAC,6CAA6C,SAAS,EAAE,CAAC,CAAC;wBACzE,CAAC;wBAGD,IAAI,WAAW,CAAC,MAAM,KAAK,EAAE,IAAI,CAAC,oBAAoB,EAAE,CAAC;4BACvD,oBAAoB,GAAG,IAAI,CAAC;4BAC5B,gBAAM,CAAC,IAAI,CAAC,8DAA8D,SAAS,EAAE,CAAC,CAAC;4BAGvF,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,GAAG,wBAAa,CAAC,0BAA0B,CACxE,IAAW,EACX,IAAW,EACX,IAAI,CACL,CAAC;4BAEF,YAAY,GAAG,MAAM,CAAC;4BACtB,cAAc,GAAG,IAAI,CAAC;4BAGtB,YAAY,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;4BAGlC,gBAAM,CAAC,IAAI,CAAC,YAAY,WAAW,CAAC,MAAM,uCAAuC,SAAS,EAAE,CAAC,CAAC;4BAC9F,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gCAC1B,YAAY,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;4BACvC,CAAC,CAAC,CAAC;4BACH,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;4BAGvB,YAAY,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,QAAa,EAAE,EAAE;gCACxC,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC;oCAAE,OAAO;gCAE/D,MAAM,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gCACnC,MAAM,WAAW,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;gCAC7C,IAAI,CAAC,WAAW;oCAAE,OAAO;gCAGzB,iBAAiB,EAAE,CAAC;gCAEpB,MAAM,WAAW,GAAsB;oCACrC,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS;oCAC1C,UAAU,EAAE,WAAW,CAAC,UAAU;oCAClC,UAAU,EAAE,WAAW,CAAC,UAAU;oCAClC,YAAY,EAAE,MAAM,CAAC,YAAY;oCACjC,SAAS,EAAE,MAAM,CAAC,SAAS;iCAC5B,CAAC;gCAGF,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;gCAErC,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;oCACnB,gBAAM,CAAC,KAAK,CAAC,iCAAiC,SAAS,EAAE,EAAE;wCACzD,UAAU,EAAE,WAAW,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;wCACnD,UAAU,EAAE,WAAW,CAAC,UAAU;wCAClC,YAAY,EAAE,MAAM,CAAC,YAAY;qCAClC,CAAC,CAAC;gCACL,CAAC;4BACH,CAAC,CAAC,CAAC;4BAEH,YAAY,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,KAAU,EAAE,EAAE;gCACtC,gBAAM,CAAC,KAAK,CAAC,oCAAoC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;gCACrE,iBAAiB,EAAE,CAAC;gCACpB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;oCACrB,IAAI,EAAE,OAAO;oCACb,KAAK,EAAE,KAAK,CAAC,OAAO;iCACA,CAAC,CAAC,CAAC;gCACzB,cAAc,GAAG,KAAK,CAAC;4BACzB,CAAC,CAAC,CAAC;4BAEH,YAAY,CAAC,EAAE,CAAC,KAAK,EAAE,GAAG,EAAE;gCAC1B,gBAAM,CAAC,IAAI,CAAC,oCAAoC,SAAS,EAAE,CAAC,CAAC;gCAC7D,iBAAiB,EAAE,CAAC;gCACpB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,SAAS,EAAuB,CAAC,CAAC,CAAC;gCAClE,cAAc,GAAG,KAAK,CAAC;4BACzB,CAAC,CAAC,CAAC;wBACL,CAAC;oBACH,CAAC;yBAAM,CAAC;wBACN,gBAAM,CAAC,IAAI,CAAC,kDAAkD,SAAS,EAAE,CAAC,CAAC;oBAC7E,CAAC;oBACD,OAAO;gBACT,CAAC;gBAGD,YAAY,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;gBACpC,OAAO;YACT,CAAC;YAGD,MAAM,OAAO,GAAqB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;YAE9D,QAAQ,OAAO,CAAC,IAAI,EAAE,CAAC;gBACrB,KAAK,OAAO,CAAC,CAAC,CAAC;oBAEb,IAAI,cAAc,EAAE,CAAC;wBACnB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;4BACrB,IAAI,EAAE,OAAO;4BACb,KAAK,EAAE,uBAAuB;yBACV,CAAC,CAAC,CAAC;wBACzB,OAAO;oBACT,CAAC;oBAED,gBAAM,CAAC,IAAI,CAAC,2CAA2C,SAAS,EAAE,EAAE;wBAClE,UAAU,EAAE,OAAO,CAAC,UAAU;wBAC9B,UAAU,EAAE,OAAO,CAAC,UAAU;wBAC9B,cAAc,EAAE,OAAO,CAAC,cAAc,IAAI,IAAI;qBAC/C,CAAC,CAAC;oBAGH,MAAM,EAAE,MAAM,EAAE,aAAa,EAAE,GAAG,wBAAa,CAAC,0BAA0B,CACxE,OAAO,CAAC,UAAU,EAClB,OAAO,CAAC,UAAU,EAClB,OAAO,CAAC,cAAc,IAAI,IAAI,CAC/B,CAAC;oBAEF,YAAY,GAAG,MAAM,CAAC;oBACtB,cAAc,GAAG,IAAI,CAAC;oBAGtB,YAAY,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;oBAGlC,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;wBAC3B,gBAAM,CAAC,IAAI,CAAC,YAAY,WAAW,CAAC,MAAM,uCAAuC,SAAS,EAAE,CAAC,CAAC;wBAC9F,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;4BAC1B,YAAY,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;wBACvC,CAAC,CAAC,CAAC;wBACH,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;oBACzB,CAAC;oBAGD,YAAY,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,QAAa,EAAE,EAAE;wBACxC,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC;4BAAE,OAAO;wBAE/D,MAAM,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;wBACnC,MAAM,WAAW,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;wBAC7C,IAAI,CAAC,WAAW;4BAAE,OAAO;wBAGzB,iBAAiB,EAAE,CAAC;wBAEpB,MAAM,WAAW,GAAsB;4BACrC,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS;4BAC1C,UAAU,EAAE,WAAW,CAAC,UAAU;4BAClC,UAAU,EAAE,WAAW,CAAC,UAAU;4BAClC,YAAY,EAAE,MAAM,CAAC,YAAY;4BACjC,SAAS,EAAE,MAAM,CAAC,SAAS;yBAC5B,CAAC;wBAGF,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;wBAErC,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;4BACnB,gBAAM,CAAC,KAAK,CAAC,iCAAiC,SAAS,EAAE,EAAE;gCACzD,UAAU,EAAE,WAAW,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;gCACnD,UAAU,EAAE,WAAW,CAAC,UAAU;gCAClC,YAAY,EAAE,MAAM,CAAC,YAAY;6BAClC,CAAC,CAAC;wBACL,CAAC;oBACH,CAAC,CAAC,CAAC;oBAEH,YAAY,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,KAAU,EAAE,EAAE;wBACtC,gBAAM,CAAC,KAAK,CAAC,oCAAoC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;wBACrE,iBAAiB,EAAE,CAAC;wBACpB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;4BACrB,IAAI,EAAE,OAAO;4BACb,KAAK,EAAE,KAAK,CAAC,OAAO;yBACA,CAAC,CAAC,CAAC;wBACzB,cAAc,GAAG,KAAK,CAAC;oBACzB,CAAC,CAAC,CAAC;oBAEH,YAAY,CAAC,EAAE,CAAC,KAAK,EAAE,GAAG,EAAE;wBAC1B,gBAAM,CAAC,IAAI,CAAC,oCAAoC,SAAS,EAAE,CAAC,CAAC;wBAC7D,iBAAiB,EAAE,CAAC;wBACpB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,SAAS,EAAuB,CAAC,CAAC,CAAC;wBAClE,cAAc,GAAG,KAAK,CAAC;oBACzB,CAAC,CAAC,CAAC;oBAEH,MAAM;gBACR,CAAC;gBAED,KAAK,OAAO,CAAC,CAAC,CAAC;oBAEb,IAAI,CAAC,cAAc,IAAI,CAAC,YAAY,EAAE,CAAC;wBACrC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;4BACrB,IAAI,EAAE,OAAO;4BACb,KAAK,EAAE,wCAAwC;yBAC3B,CAAC,CAAC,CAAC;wBACzB,OAAO;oBACT,CAAC;oBAED,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;wBACnB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;4BACrB,IAAI,EAAE,OAAO;4BACb,KAAK,EAAE,wBAAwB;yBACX,CAAC,CAAC,CAAC;wBACzB,OAAO;oBACT,CAAC;oBAGD,MAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;oBAGzD,YAAY,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,CAAC,CAAC;oBAE3C,MAAM;gBACR,CAAC;gBAED,KAAK,MAAM,CAAC,CAAC,CAAC;oBAEZ,iBAAiB,EAAE,CAAC;oBACpB,IAAI,YAAY,EAAE,CAAC;wBACjB,YAAY,CAAC,GAAG,EAAE,CAAC;wBACnB,YAAY,GAAG,IAAI,CAAC;oBACtB,CAAC;oBACD,cAAc,GAAG,KAAK,CAAC;oBACvB,gBAAM,CAAC,IAAI,CAAC,0CAA0C,SAAS,EAAE,CAAC,CAAC;oBACnE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,SAAS,EAAuB,CAAC,CAAC,CAAC;oBAClE,MAAM;gBACR,CAAC;gBAED,OAAO,CAAC,CAAC,CAAC;oBACR,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;wBACrB,IAAI,EAAE,OAAO;wBACb,KAAK,EAAE,yBAAyB,OAAO,CAAC,IAAI,EAAE;qBAC1B,CAAC,CAAC,CAAC;oBACzB,MAAM;gBACR,CAAC;YACH,CAAC;QACH,CAAC;QAAC,OAAO,KAAU,EAAE,CAAC;YACpB,gBAAM,CAAC,KAAK,CAAC,wCAAwC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;YACzE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;gBACrB,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,KAAK,CAAC,OAAO;aACA,CAAC,CAAC,CAAC;QAC3B,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE;QAClB,gBAAM,CAAC,IAAI,CAAC,iDAAiD,SAAS,EAAE,CAAC,CAAC;QAC1E,iBAAiB,EAAE,CAAC;QACpB,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;QACvB,IAAI,YAAY,EAAE,CAAC;YACjB,YAAY,CAAC,GAAG,EAAE,CAAC;YACnB,YAAY,GAAG,IAAI,CAAC;QACtB,CAAC;QACD,cAAc,GAAG,KAAK,CAAC;IACzB,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,KAAY,EAAE,EAAE;QAC9B,gBAAM,CAAC,KAAK,CAAC,gCAAgC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;QACjE,iBAAiB,EAAE,CAAC;QACpB,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;QACvB,IAAI,YAAY,EAAE,CAAC;YACjB,YAAY,CAAC,GAAG,EAAE,CAAC;YACnB,YAAY,GAAG,IAAI,CAAC;QACtB,CAAC;QACD,cAAc,GAAG,KAAK,CAAC;IACzB,CAAC,CAAC,CAAC;AACL,CAAC"}